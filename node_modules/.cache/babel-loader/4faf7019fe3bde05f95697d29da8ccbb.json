{"ast":null,"code":"import _slicedToArray from \"/Users/sihwan/Desktop/DGIST/database/kookie/study-together/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"/Users/sihwan/Desktop/DGIST/database/kookie/study-together/src/Study.js\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, Link, useNavigate, useLocation } from \"react-router-dom\";\nimport { ThemeConsumer } from \"styled-components\";\nvar Study = function Study(_ref) {\n  var match = _ref.match;\n  var _useParams = useParams(),\n    id = _useParams.id; //   const [studyId, setStudyId] = useState(parseInt(id));\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    studyName = _useState2[0],\n    setStudyName = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    leaderId = _useState4[0],\n    setLeaderId = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    leaderName = _useState6[0],\n    setLeaderName = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    courseId = _useState8[0],\n    setCourseId = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState10 = _slicedToArray(_useState9, 2),\n    studyIntro = _useState10[0],\n    setStudyIntro = _useState10[1];\n  var _useState11 = useState([]),\n    _useState12 = _slicedToArray(_useState11, 2),\n    postList = _useState12[0],\n    setPostList = _useState12[1];\n  var navigate = useNavigate();\n  var location = useLocation();\n  //   console.log(id);\n  var getStudyDetail = function getStudyDetail() {\n    axios.get(\"http://localhost:3001/api/study/detail?id=\".concat(id)).then(function (response) {\n      console.log(response);\n      setStudyName(response.data.name);\n      setLeaderId(response.data.leaderId);\n      setCourseId(response.data.courseId);\n      setStudyIntro(response.data.studyIntro);\n      setLeaderName(response.data.leaderName);\n    });\n  };\n  var getPost = function getPost() {\n    axios.get(\"http://localhost:3001/api/post?id=\".concat(id)).then(function (response) {\n      setPostList(response.data.postList);\n    });\n  };\n  var deletePost = function deletePost(post_id) {\n    // console.log(post_id);\n    axios.get(\"http://localhost:3001/api/delete?id=\".concat(post_id));\n  };\n\n  //`http://localhost:3001/api/study?id=${id}&pw=${pw}`\n  useEffect(function () {\n    getStudyDetail();\n    getPost();\n    // console.log(\"스터디!\");\n  }, [id]);\n  console.log(postList);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/Home\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"head\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Dgi-study\"))), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, studyName), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, \"\\uACFC\\uBAA9 : \", courseId), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"\\uC2A4\\uD130\\uB514\\uC7A5 : \", leaderId), /*#__PURE__*/React.createElement(\"li\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, \"\\uC2A4\\uD130\\uB514 \\uC18C\\uAC1C : \", studyIntro))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, \"\\uAC8C\\uC2DC\\uAE00\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"\\uB0B4\\uC6A9\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"\\uC791\\uC131\\uC790\"), postList.map(function (arr, ind) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 15\n      }\n    }, arr[0]), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 15\n      }\n    }, arr[1]), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, arr[2]), location.state == arr[2] ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return deletePost(arr[0]);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, \"\\uC0AD\\uC81C\") : /*#__PURE__*/React.createElement(React.Fragment, null), location.state == arr[2] ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        navigate(\"/edit/\".concat(arr[0]));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"\\uC218\\uC815\") : /*#__PURE__*/React.createElement(React.Fragment, null));\n  }))));\n};\nexport default Study;","map":{"version":3,"names":["axios","React","useEffect","useState","useParams","Link","useNavigate","useLocation","ThemeConsumer","Study","match","id","studyName","setStudyName","leaderId","setLeaderId","leaderName","setLeaderName","courseId","setCourseId","studyIntro","setStudyIntro","postList","setPostList","navigate","location","getStudyDetail","get","then","response","console","log","data","name","getPost","deletePost","post_id","map","arr","ind","state"],"sources":["/Users/sihwan/Desktop/DGIST/database/kookie/study-together/src/Study.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, Link, useNavigate, useLocation } from \"react-router-dom\";\nimport { ThemeConsumer } from \"styled-components\";\nconst Study = ({ match }) => {\n  const { id } = useParams();\n  //   const [studyId, setStudyId] = useState(parseInt(id));\n  const [studyName, setStudyName] = useState(\"\");\n  const [leaderId, setLeaderId] = useState(\"\");\n  const [leaderName, setLeaderName] = useState(\"\");\n  const [courseId, setCourseId] = useState(\"\");\n  const [studyIntro, setStudyIntro] = useState(\"\");\n  const [postList, setPostList] = useState([]);\n  const navigate = useNavigate();\n  const location = useLocation();\n  //   console.log(id);\n  const getStudyDetail = () => {\n    axios\n      .get(`http://localhost:3001/api/study/detail?id=${id}`)\n      .then((response) => {\n        console.log(response);\n        setStudyName(response.data.name);\n        setLeaderId(response.data.leaderId);\n        setCourseId(response.data.courseId);\n        setStudyIntro(response.data.studyIntro);\n        setLeaderName(response.data.leaderName);\n      });\n  };\n\n  const getPost = () => {\n    axios.get(`http://localhost:3001/api/post?id=${id}`).then((response) => {\n      setPostList(response.data.postList);\n    });\n  };\n\n  const deletePost = (post_id) => {\n    // console.log(post_id);\n    axios.get(`http://localhost:3001/api/delete?id=${post_id}`);\n  };\n\n  //`http://localhost:3001/api/study?id=${id}&pw=${pw}`\n  useEffect(() => {\n    getStudyDetail();\n    getPost();\n    // console.log(\"스터디!\");\n  }, [id]);\n  console.log(postList);\n  return (\n    <div>\n      <div className=\"header\">\n        <Link to=\"/Home\">\n          <h1 className=\"head\">Dgi-study</h1>\n        </Link>\n      </div>\n      <h1>{studyName}</h1>\n      <div>\n        <ul>\n          <li>과목 : {courseId}</li>\n          <li>스터디장 : {leaderId}</li>\n          <li>스터디 소개 : {studyIntro}</li>\n        </ul>\n      </div>\n      <div>\n        <div>게시글</div>\n        <table>\n          <th>내용</th>\n          <th>작성자</th>\n          {postList.map((arr, ind) => (\n            <tr>\n              <td>{arr[0]}</td>\n              <td>{arr[1]}</td>\n              <td>{arr[2]}</td>\n              {location.state == arr[2] ? (\n                <button onClick={() => deletePost(arr[0])}>삭제</button>\n              ) : (\n                <></>\n              )}\n              {location.state == arr[2] ? (\n                <button\n                  onClick={() => {\n                    navigate(`/edit/${arr[0]}`);\n                  }}\n                >\n                  수정\n                </button>\n              ) : (\n                <></>\n              )}\n            </tr>\n          ))}\n        </table>\n        {/* <button onClick={() => navigate(`/make`)}></button> */}\n      </div>\n    </div>\n  );\n};\n\nexport default Study;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}